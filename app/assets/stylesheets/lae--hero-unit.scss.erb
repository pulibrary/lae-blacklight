<% environment.context_class.instance_eval { include ApplicationHelper } %>

@import "bourbon";

$device-padding-vertical: 1em;
$device-padding-horizontal: .4em;
$device-screen-width: 34.5em;
$device-screen-height: 25.5em;
$device-text-color: black;

$device-background-top: yellow; 
$device-background-bottom: green;
$gradient-angle: 10deg;
$device-image: 'http://subtlepatterns.com/patterns/lightpaperfibers.png';
/*
$device-screen-image: 'http://libimages.princeton.edu/loris2/puls%2F0%2Fb%2F5%2Fn%2Ft.jp2/full/!480,480/0/default.png';
*/
$device-screen-image: 'http://libimages.princeton.edu/loris2/puls%2F0%2Fc%2Fp%2Fh%2Fw.jp2/full/!480,480/0/default.jpg';
// This needs work
//$device-screen-image: 'http://libimages.princeton.edu/loris2/<%= random_sample_graphic %>.jp2/full/!480,480/0/default.jpg';
.other-content {
  clear: both;
  margin-top: 8em;
}

.device-background {
  width: 100%;
  height: 23em;

  position: relative;
  top: 50px;

  background: #f5f4f1;
  border: 1px solid #eee;
}

.device-text {
  color: $device-text-color;
  padding: 2em;

  @media (min-width: 1200px) {
    max-width: 50%;
    padding: 3em;
    float: left;
  }

  h2 {
    margin-top: 0;
    margin-bottom: .5em;
    padding-bottom: .5em;
    border-bottom: 1px solid transparentize($device-text-color, .7);
  }

  p {
    margin-bottom: 1.5em;
    font-size: 0.8em;
  }
}

.device {
  display: none;
  position: relative;

  @media(min-width: 1200px) {
    @include transform(
      perspective(1000px) 
      translateX(0px) 
      translateY(-45px) 
      translateZ(50px) 
      rotateX(0deg) 
      rotateZ(-0deg));
    display: block;
    float: right;
    margin-bottom: -12em;
    margin-right: 5em;
    padding: $device-padding-vertical 0;
    width: $device-screen-width + (2 * $device-padding-horizontal);
    border-radius: 2em;
      z-index: 99999;

    .screen {
      @include size($device-screen-width $device-screen-height);
      background-image: url($device-screen-image);
      background-position: center;
      background-size: cover;
      // box-shadow: 0 1px 8px transparentize(black, .5);
      margin: auto;
      border-radius: .2em;
    }
  }
}

button {
  @include button(flat, #0e5a86);

  &:hover {
    background: lighten(#0e5a86, 10);
  }
}